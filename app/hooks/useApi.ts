import { useState } from 'react';

const useApi = <T = unknown>(apiFunction: Function) => {
  const [data, setData] = useState<any>({
    id: 0,
    name: "",
    image:
      "data:image/jpeg;base64,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",
  });
  const [error, setError] = useState(false);
  const [loading, setLoading] = useState(false);

  async function request(...args: unknown[]) {
    try {
      setLoading(true);
      setError(false);
      const data = await apiFunction(args);
      setData(data);
    } catch (error) {
      setError(true);
    } finally {
      setLoading(false);
    }
  }
  return { data, error, loading, request };
};

export default useApi;